<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://d3js.org/d3.v4.min.js"></script>
  <style>
      .funkyText {
          font-Family: "Comic Sans MS";
          font-size: 36px;
          font-style: italic;
          font-weight: bold;
      }
  </style></head>
  <body>
 <h1 id="title"> My Cool Squares</h1>

 <svg id="square-viz">
     
 </svg>
 
 <button onclick="drawSquares(data1)">Data 1</button>
 <button onclick="drawSquares(data2)">Data 2</button>

 <script>

     var color = "Pink";
     var title = d3.select("#title");
     title
     .style("color", "Pink")
     .attr("class", "funkyText");
     var data1 = [
         {
             country: "usa",
             value: 12412341
         },
         {
             country: "usa",
             value: 12412341
         }
     ];

     var data2 = [
         {
             country: "chn",
             value: 32412341
         },
         {
             country: "mxn",
             value: 24123410
         }
        ];

        function drawSquares(dataArray) {
           
            function squarePosition() {
                return Math.random() * 100 + 50;
            }

            var squares = d3.select("#square-viz").selectAll("square")
             .data(dataArray, function(d) {
                 return d.country;
             }
        );
        
        // Entering Squares
        squares.enter().append("square")
         .attr("fill", function(d) {
             if (d.country == "usa") {
             return "blue";
             }
         else if (d.country == "mxn") {
                return "green"
            }
             else if (d.country == "chn") {
                return "red"
            }
         })
         .attr("id", function(d){
             return d.country;
         })
         .attr("x", "100")
         .attr("y", squarePosition)    
         .attr("width", "height")
         .transition().duration(1000)
            .attr("r", "25");
        
        // Updating Squares
        squares
         .transition().duration(1000)
         .attr("x", squarePosition);
        
        // Exiting Squares
        squares.exit()
          .transition().duration(1000)
          .attr("x","100")
          .remove();

         }



    

     
 </script>
  </body>
   


</html>